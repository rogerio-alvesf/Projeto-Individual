<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Saúde & Bem Estar - Conta</title>
    <script src="scripts/dashboard.js"></script>
    <link rel="stylesheet" href="styles/dashboard.css">
    <!-- Da acesso a lib através do cdn -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="scripts/funcoes.js"></script>
</head>

<body>
    <header>
        <h1>Saúde & Bem Estar</h1>
        <div class="container">
            <div class="informations">
                <div class="credentials">
                    <h3 id="nick_usuario">Nome usuario</h3>
                </div>
                <div class="photo"><img src="images/account-photo.png"></div>
                <div class="seta" id="set_image"><img src="images/set_down.png" onclick="open_menu()"></div>
            </div>
        </div>
    </header>
    <div class="menu" id="menu">
        <button onclick="alterar_conta()">GERENCIAR CONTA</button>
        <button onclick="sair()">SAIR</button>
    </div>
    <div id="manage_account" class="manage-account">
        <form class="formulario-conta">
            <h2>Modificar Perfil</h2>
            <span>Qual será o novo nome da sua conta:</span><input type="text" id="novo_nome">
            <span>Qual será o seu novo email:</span><input type="text" id="novo_email">
            <span><button onclick="modificar()">Atualizar Credenciais</button>
                <button class="delete" onclick="apagar()">Deletar Conta</button></span>
        </form>
        <div onclick="close_manage_account_option()" class="bt-close">
            <img src="images/button_close.png">
        </div>
    </div>
    <main id="id_main">
        <div class="container">
            <div class="graph">
                <canvas id="myChart" style="width: 100%; height: 100%"></canvas>
            </div>
        </div>
        <div class="calculate" id="calculo">
            <section>
                <fieldset>
                    <h2>Utilize nossa calculador para fazer essa conta por você</h2>
                    <label>Quantos anos você tem: <input id="in_years_old" placeholder="IDADE"
                            type="number"><br></label>
                    <label>Qual o seu peso(em kg): <input id="in_weight" placeholder="PESO" type="number"><br></label>
                    <button onclick="calculate()">CALCULAR</button>
                </fieldset>
                <p id="p_result" class="result"></p>
            </section>
        </div>
        <div class="counter">
            <section>
                <h2>Contabilize aqui a conquista</h2>
                <label>Qual a quantidade de água que você tomou(em ml): <input id="in_quantidade"></label>
                <label>Quando você bebeu água: <input type="time" id="in_tempo"></label>
                <button onclick="contabilizar()">CONTABILIZAR</button>
            </section>
        </div>
        <div class="panel">
            <h2>Confira como está sua jornada</h2>
            <p>
                <span id="sp_idealValue">Quantidade ideal de água que você deve tomar:<span
                        id="idealValue"></span></span>
                <br>
                Você já bebeu:<span id="sumValue"></span>
                <br>
                Menor quantidade de água que você bebeu:<span id="lowerValue"></span>
                <br>
                Maior quantidade de água que você bebeu:<span id="highestValue"></span>
                <br>
                Quantidade média de água que você toma por hora:<span id="averageValue"></span>
            </p>
        </div>
        <div class="congration" id="congration">
            <h1>Parabéns pela consquista</h1>
            <img class="trophy" src="images/trophy.gif">
            <button class="bt-congration" onclick="close_congration()">FECHAR</button>
        </div>
    </main>
    <footer>
        <p>Todos os direitos reservados &copy;Rogerio Alves Filho</p>
        <div class="social-networks"><span>Redes Sociais:</span>
            <div>
                <a href="https://github.com/rogerio-alvesf" target="_blank"><img src="images/icon-github.png"
                        alt="">GitHub</a>
            </div>
            <div>
                <a href="mailto:rogeriobusiness@protonmail.com" target="_blank"><img src="images/icon-protonmail.png"
                        alt="">Protonmail</a>
            </div>
            <div>
                <a href="https://www.linkedin.com/in/rogerio-filho-9034481b1" target="_blank"><img
                        src="images/icon-linkedin.png" alt="">Linkedin</a>
            </div>
        </div>
    </footer>
</body>
<script>
    nick_usuario.innerHTML = localStorage.getItem("NOME"); 

    // Inicia uma variável do tipo constante (não pode ser reatribuida)
    const config = {
        type: "line", // tipo do gráfico
        data: { // objeto que vai conter os dados do gráfico
            labels: periodo,
            //labels: ["00:00", "01:00", "02:00", "03:00", "04:00", "05:00", "06:00", "07:00", "08:00", "09:00", "10:00", "11:00", "12:00", "13:00", "14:00", "15:00", "16:00", "17:00", "18:00", "19:00", "20:00", "21:00", "22:00", "23.00"], // labels (rótulos) que serão identificados os nossos dados 
            datasets: [ // datasets (conjunto de dados)
                {
                    label: "Quantidade de água(ml)", // irá conter o rótulo principal do nosso gráfico
                    data: valor, // os dados referentes aqueles rótulos
                    backgroundColor: "#26998E", // cor das "bolinhas" do gráfico
                    borderColor: "#26998E", // cor da "linha" do gráfico
                    tension: 0.5,
                }
            ]
        },

        options: {
            parsing: {
                xAxisKey: 'volume',
                yAxisKey: 'tempo',
            },
            plugins: {
                legend: {
                    display: false
                },
                title: {
                    display: true,
                    text: 'Quantidade de Água engerida',
                    font: {
                        size: 16
                    },
                    color: "#000000"
                }
            },
            maintainAspectRatio: false,
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
        /* maintainAspectRatio (manter relação de aspecto) 
          caso true: ele "obdece" a altura e largura que colocamos
          caso false: ele não "obdece" a altura e largura que colocamos e se ajusta ao componente pai
        */
    }

    var myChartLine = new Chart(document.getElementById("myChart"), config);
        /* aqui obrigatoriamente tem que colocar new Chart() para criar um novo chart
e passar dentro dos (parênteses) o elemento canvas que você quer mandar e
separado pela virgula o que você quer mandar, no nosso caso a config que fizemos
*/
</script>

</html>